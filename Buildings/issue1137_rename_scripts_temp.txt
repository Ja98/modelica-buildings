# Some justifications behind suggested modifications:

# 1) if the model name indicates that the model calculates a value, I'd still prefer to 
# fully specify the G36 relevant properties of the value in the variable name. For example
# RooeTemperatures: THeaSet -change to> TRooHeaSet. The goal would be to use the same
# variable name for the same physical/setpoint value throughout the G36 package, where possible. 

# 2) Any airflow from the terminal unit to the Rooe should have a *Dis* substring. Depending 
# on the sequence, the substring replaced may be *Roo* or a lack of a label. The same goes for
# terminal unit discharge temperatures, but should not get confused with the Rooe temperature.

# 3) For single zone I'm using *Roo* instead of *Zon*

# 4) Use dT for any differential temperatures

# 5) I was conservative in alowing for long labels in an attempt to minimize unambiguity.

# 6) Use *Set* at the end of the string, unless it is the minimum or the maximum limit, in which
# case one would use, for example, *SetMin.

# 7) Damper position vs. damper position limit: Exhaust damper control signal generating sequences do not 
# have the damper limits and thus generate the damper signal and not the damper position. This is not the # case with the rest of the dampers, which generate the damper position, since the physical damper 
# position limits are provided as parameters set at commissioning (as discussed with Brent).


# variables to rename

for ff in `find . \( -name '*.mo' -or -name '*.mos' -or -name '*.py' -or -name '*.txt' -or -name '*.svg'  \)`; do
    list=(\

# Buildings.Controls.OBC.ASHRAE.G36_PR1.TerminalUnits


    # in Buildings.Controls.OBC.ASHRAE.G36_PR1.TerminalUnits.SetPoints.ZoneTemperatures
    
     occCooSet occTDisSet \
     TCooSet TZonCooSet \
     THeaSet TZonHeaSet \
     TCooOnMax TZonCooSetMax \
     TCooOnMin TZonCooSetMin \
     THeaOnMax TZonHeaSetMax \
     THeaOnMin TZonHeaSetMin \
     TCooWinOpe TZonCooSetWinOpe \
     THeaWinOpe TZonHeaSetWinOpe \     

    # in Buildings.Controls.OBC.ASHRAE.G36_PR1.TerminalUnits.Reheat.SetPoints.ActiveAirFlow

     VCooMax VDisCooSetMax_flow \
     VMin VDisSetMin_flow \
     VHeaMax VDisHeaSetMax_flow \
     VMinCon VDisConMin_flow \
     AFlo ZonAre \
     outAirPerAre VOut_perAre_flow \
     outAirPerPer VOut_perPer_flow \
     VOccMinAir occVDisMin_flow \
     VActCooMax VActCooMax_flow \
     VActCooMin VActCooMin_flow \
     VActMin VActMin_flow \
     VActHeaMin VActHeaMin_flow \
     VActHeaMax VActHeaMax_flow \


    # Buildings.Controls.OBC.ASHRAE.G36_PR1.TerminalUnits.Reheat.SystemRequests
  
     TCooSet TZonCooSet \
     VDis VDis_flow \
     VDisSet VDisSet_flow \
     TDis \
     cooSetDif_1 dTZon_ZonCooSet_1 \ # these are very long
     cooSetDif_2 dTZon_ZonCooSet_2 \ 
     disAirSetDif_1 dTDis_DisSet_1 \
     disAirSetDif_2 dTDis_DisSet_2 \ 

    # Buildings.Controls.OBC.ASHRAE.G36_PR1.TerminalUnits.Reheat.DamperValves

     dTDisMax dTDis_ZonSet_Max \
     V_flow_nominal VNom_flow \ 
     VActCooMax VActCooMax_flow \ # same as G36_PR1.TerminalUnits.Reheat.SetPoints.ActiveAirFlow
     VActCooMin VActCooMin_flow \ # same as G36_PR1.TerminalUnits.Reheat.SetPoints.ActiveAirFlow
     VActMin VActMin_flow \ # same as G36_PR1.TerminalUnits.Reheat.SetPoints.ActiveAirFlow
     VActHeaMin VActHeaMin_flow \ # same as in G36_PR1.TerminalUnits.Reheat.SetPoints.ActiveAirFlow
     VActHeaMax VActHeaMax_flow \ # same as in G36_PR1.TerminalUnits.Reheat.SetPoints.ActiveAirFlow
     VDis VDis_flow \ # same as in SystemRequests
     THeaSet TZonHeaSet \
     VDisSet VDisSet_flow \
     TDisSet TDisHeaSet \
 
    # Buildings.Controls.OBC.ASHRAE.G36_PR1.TerminalUnits.ModeAndSetPoints
    # most of these need to be consistent with G36_PR1.TerminalUnits.SetPoints.ZoneTemperatures
     THeaOn TZonHeaOn \
     TCooOn TZonCooOn \
     THeaOff TZonHeaOff \
     TCooOff TZonCooOff \
     freProThrVal TZon_frePro_on \
     freProEndVal TZon_frePro_off \
     TCooOnMax TZonCooSetMaxOn \ 
     TCooOnMin TZonCooSetMinOn \ 
     THeaOnMax TZonHeaSetMaxOff \
     THeaOnMin TZonHeaSetMinOff \
     TCooWinOpe TZonCooSetWinOpe \
     THeaWinOpe TZonHeaSetWinOpe \
     incSetDem_1 incTSetDem_1 \
     incSetDem_2 incTSetDem_2 \
     incSetDem_3 incTSetDem_3 \
     decSetDem_1 decTSetDem_1 \
     decSetDem_2 decTSetDem_2 \
     decSetDem_3 decTSetDem_3 \

# Buildings.Controls.OBC.ASHRAE.G36_PR1.Generic

    # Buildings.Controls.OBC.ASHRAE.G36_PR1.Generic.SetPoints.OperationMode
     THeaSet occTZonHeaSet \
     TCooSet occTZonCooSet \
     TZon TZon \
     TUnoCooSet unoTZonCooSet \
     TUnoHeaSet unoTZonHeaSet \
     
# Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.SingleZone

    # SetPoints.ExhaustDamper
     uFan uSupFan \ 

    # Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.SingleZone.SetPoints.OutsideAirFlow
     AFlo RooAre \ # already occured
     outAirPerAre VOut_perAre_flow \ # already occured
     outAirPerPer VOut_perPer_flow \ # already occured
     TZon TRoo \ 
     
    # Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.SingleZone.SetPoints.VAVSupply
     TMax TSupSetMax \
     TMin TSupSetMin \
     TSetZon TRooSet \
     TZon TRoo \
     THeaEco TSupHeaEco \
     TCoo TSupCoo \

    # Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone
     TSupMin TSupSetMin \
     TSupMax TSupSetMax \
     TSupDes TSupSetDes \
     TSetZones TZonSetAve \

    # Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.SetPoints.VAVSupplySignals
     TSetSup TSupSet \
     
    # Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.SetPoints.VAVSupplyFan
     VBox_flow VDis_flow \
     sumVBox_flow sumVDis_flow \  

    # Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone.SetPoints.OutsideAirFlow
     AFlo ZonAre \ # already occured
     outAirPerAre VOut_perAre_flow \ # already occured
     outAirPerPer VOut_perPer_flow \ # already occured
      \ )
     


    for ((i=0; i<${#list[@]}; i+=2)); do
        sed -e s/${list[i]}/${list[i+1]}/g -i $ff
    done

done


# models to rename

import buildingspy.development.refactor as r

r.move_class("Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZone",
	"Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.MultiZoneVAV")

r.move_class("Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.SingleZone",
             "Buildings.Controls.OBC.ASHRAE.G36_PR1.AHUs.SingleZoneVAV")


